(()=>{var e={};e.id=651,e.ids=[651],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(5960),s(5866),s(2734);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["(dashboard)",{children:["clients",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5960)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\clients\\[id]\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2734)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\clients\\[id]\\page.tsx"],u="/(dashboard)/clients/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/clients/[id]/page",pathname:"/clients/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29:(e,t,s)=>{Promise.resolve().then(s.bind(s,1271)),Promise.resolve().then(s.bind(s,6931))},1271:(e,t,s)=>{"use strict";s.d(t,{ClientDetails:()=>j});var r=s(326),a=s(7577),n=s(2945),i=s(2643),l=s(9258),o=s(772),d=s(2982),c=s(6042),u=s(434),m=s(1234),x=s(9635);let f=(0,s(6557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var h=s(7358),p=s(4215);function j({clientId:e,trainerId:t}){let[s,j]=(0,a.useState)(null),[v,g]=(0,a.useState)([]),[b,y]=(0,a.useState)([]),[w,N]=(0,a.useState)(!0);(0,n.e)();let{toast:P}=(0,p.pm)();return w?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.name}),r.jsx("p",{className:"text-muted-foreground",children:"Perfil do aluno"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(u.default,{href:`/workouts/create?client=${e}`,children:(0,r.jsxs)(o.z,{children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Nova Ficha"]})})})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,r.jsxs)(i.Zb,{className:"md:col-span-1",children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Informa\xe7\xf5es"})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"h-32 w-32 rounded-full overflow-hidden bg-muted flex items-center justify-center",children:s.avatar_url?r.jsx("img",{src:s.avatar_url||"/placeholder.svg",alt:s.name,className:"h-full w-full object-cover"}):r.jsx(x.Z,{className:"h-16 w-16 text-muted-foreground"})})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:s.name})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(f,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:s.email})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(h.Z,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:[v.length," sess\xf5es"]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:[b.length," fichas de treino"]})]})]}),(s.fitness_goals||s.health_info)&&(0,r.jsxs)("div",{className:"pt-4 border-t space-y-4",children:[s.fitness_goals&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium",children:"Objetivos Fitness"}),r.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:s.fitness_goals})]}),s.health_info&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium",children:"Informa\xe7\xf5es de Sa\xfade"}),r.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:s.health_info})]})]})]})})]}),r.jsx("div",{className:"md:col-span-2",children:(0,r.jsxs)(l.mQ,{defaultValue:"sessions",children:[(0,r.jsxs)(l.dr,{children:[r.jsx(l.SP,{value:"sessions",children:"Sess\xf5es"}),r.jsx(l.SP,{value:"workouts",children:"Fichas de Treino"})]}),r.jsx(l.nU,{value:"sessions",className:"mt-6",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Hist\xf3rico de Sess\xf5es"}),r.jsx(i.SZ,{children:"Sess\xf5es de treino com este aluno"})]}),r.jsx(i.aY,{children:v.length>0?r.jsx("div",{className:"space-y-4",children:v.map(e=>r.jsx("div",{className:"border rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:(0,d.WU)(new Date(e.session_date),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:c.F})}),(0,r.jsxs)("p",{className:"text-sm",children:["Dura\xe7\xe3o: ",e.duration," minutos"]}),(0,r.jsxs)("p",{className:"text-sm",children:["Status:"," ",r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${"completed"===e.status?"bg-green-100 text-green-800":"accepted"===e.status?"bg-blue-100 text-blue-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:"completed"===e.status?"Conclu\xedda":"accepted"===e.status?"Confirmada":"pending"===e.status?"Pendente":"cancelled"===e.status?"Cancelada":e.status})]}),e.notes&&(0,r.jsxs)("p",{className:"text-sm mt-2",children:["Notas: ",e.notes]})]}),r.jsx("div",{children:r.jsx(u.default,{href:`/sessions/${e.id}`,children:r.jsx(o.z,{variant:"outline",size:"sm",children:"Detalhes"})})})]})},e.id))}):r.jsx("p",{className:"text-center py-4 text-muted-foreground",children:"Nenhuma sess\xe3o encontrada"})})]})}),r.jsx(l.nU,{value:"workouts",className:"mt-6",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Fichas de Treino"}),r.jsx(i.SZ,{children:"Fichas de treino criadas para este aluno"})]}),r.jsx(i.aY,{children:b.length>0?r.jsx("div",{className:"space-y-4",children:b.map(e=>r.jsx("div",{className:"border rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Criada em"," ",(0,d.WU)(new Date(e.created_at),"dd 'de' MMMM 'de' yyyy",{locale:c.F})]}),(0,r.jsxs)("p",{className:"text-sm",children:[e.exercise_count," ",1===e.exercise_count?"exerc\xedcio":"exerc\xedcios"]}),e.description&&(0,r.jsxs)("p",{className:"text-sm mt-2",children:["Descri\xe7\xe3o: ",e.description]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(u.default,{href:`/workouts/${e.id}`,children:r.jsx(o.z,{variant:"outline",size:"sm",children:"Ver"})}),r.jsx(u.default,{href:`/workouts/${e.id}/edit`,children:r.jsx(o.z,{size:"sm",children:"Editar"})})]})]})},e.id))}):(0,r.jsxs)("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma ficha de treino encontrada"}),r.jsx(u.default,{href:`/workouts/create?client=${e}`,children:r.jsx(o.z,{children:"Criar Primeira Ficha"})})]})})]})})]})})]})]}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Cliente n\xe3o encontrado"})})}},9258:(e,t,s)=>{"use strict";s.d(t,{mQ:()=>O,nU:()=>Y,dr:()=>B,SP:()=>H});var r=s(326),a=s(7577),n=s(2561),i=s(3095),l=s(545),o=s(8051),d=s(8957),c=s(5226),u=s(5049),m=s(2067),x=s(7124),f="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[j,v,g]=(0,l.B)(p),[b,y]=(0,i.b)(p,[g]),[w,N]=b(p),P=a.forwardRef((e,t)=>(0,r.jsx)(j.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(j.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(_,{...e,ref:t})})}));P.displayName=p;var _=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,orientation:i,loop:l=!1,dir:d,currentTabStopId:j,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:y,preventScrollOnEntryFocus:N=!1,...P}=e,_=a.useRef(null),F=(0,o.e)(t,_),M=(0,x.gm)(d),[C,S]=(0,m.T)({prop:j,defaultProp:g??null,onChange:b,caller:p}),[k,q]=a.useState(!1),A=(0,u.W)(y),I=v(s),R=a.useRef(!1),[T,E]=a.useState(0);return a.useEffect(()=>{let e=_.current;if(e)return e.addEventListener(f,A),()=>e.removeEventListener(f,A)},[A]),(0,r.jsx)(w,{scope:s,orientation:i,dir:M,loop:l,currentTabStopId:C,onItemFocus:a.useCallback(e=>S(e),[S]),onItemShiftTab:a.useCallback(()=>q(!0),[]),onFocusableItemAdd:a.useCallback(()=>E(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>E(e=>e-1),[]),children:(0,r.jsx)(c.WV.div,{tabIndex:k||0===T?-1:0,"data-orientation":i,...P,ref:F,style:{outline:"none",...e.style},onMouseDown:(0,n.M)(e.onMouseDown,()=>{R.current=!0}),onFocus:(0,n.M)(e.onFocus,e=>{let t=!R.current;if(e.target===e.currentTarget&&t&&!k){let t=new CustomEvent(f,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=I().filter(e=>e.focusable);D([e.find(e=>e.active),e.find(e=>e.id===C),...e].filter(Boolean).map(e=>e.ref.current),N)}}R.current=!1}),onBlur:(0,n.M)(e.onBlur,()=>q(!1))})})}),F="RovingFocusGroupItem",M=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,focusable:i=!0,active:l=!1,tabStopId:o,children:u,...m}=e,x=(0,d.M)(),f=o||x,h=N(F,s),p=h.currentTabStopId===f,g=v(s),{onFocusableItemAdd:b,onFocusableItemRemove:y,currentTabStopId:w}=h;return a.useEffect(()=>{if(i)return b(),()=>y()},[i,b,y]),(0,r.jsx)(j.ItemSlot,{scope:s,id:f,focusable:i,active:l,children:(0,r.jsx)(c.WV.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...m,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{i?h.onItemFocus(f):e.preventDefault()}),onFocus:(0,n.M)(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:(0,n.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,s){var r;let a=(r=e.key,"rtl"!==s?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return C[a]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();let r=s.indexOf(e.currentTarget);s=h.loop?function(e,t){return e.map((s,r)=>e[(t+r)%e.length])}(s,r+1):s.slice(r+1)}setTimeout(()=>D(s))}}),children:"function"==typeof u?u({isCurrentTabStop:p,hasTabStop:null!=w}):u})})});M.displayName=F;var C={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D(e,t=!1){let s=document.activeElement;for(let r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}var S=s(9815),k="Tabs",[q,A]=(0,i.b)(k,[y]),I=y(),[R,T]=q(k),E=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:u="automatic",...f}=e,h=(0,x.gm)(o),[p,j]=(0,m.T)({prop:a,onChange:n,defaultProp:i??"",caller:k});return(0,r.jsx)(R,{scope:s,baseId:(0,d.M)(),value:p,onValueChange:j,orientation:l,dir:h,activationMode:u,children:(0,r.jsx)(c.WV.div,{dir:h,"data-orientation":l,...f,ref:t})})});E.displayName=k;var V="TabsList",z=a.forwardRef((e,t)=>{let{__scopeTabs:s,loop:a=!0,...n}=e,i=T(V,s),l=I(s);return(0,r.jsx)(P,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:(0,r.jsx)(c.WV.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});z.displayName=V;var Z="TabsTrigger",K=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:a,disabled:i=!1,...l}=e,o=T(Z,s),d=I(s),u=W(o.baseId,a),m=L(o.baseId,a),x=a===o.value;return(0,r.jsx)(M,{asChild:!0,...d,focusable:!i,active:x,children:(0,r.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...l,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;x||i||!e||o.onValueChange(a)})})})});K.displayName=Z;var $="TabsContent",G=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:n,forceMount:i,children:l,...o}=e,d=T($,s),u=W(d.baseId,n),m=L(d.baseId,n),x=n===d.value,f=a.useRef(x);return a.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(S.z,{present:i||x,children:({present:s})=>(0,r.jsx)(c.WV.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:m,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&l})})});function W(e,t){return`${e}-trigger-${t}`}function L(e,t){return`${e}-content-${t}`}G.displayName=$;var U=s(7863);let O=E,B=a.forwardRef(({className:e,...t},s)=>r.jsx(z,{ref:s,className:(0,U.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));B.displayName=z.displayName;let H=a.forwardRef(({className:e,...t},s)=>r.jsx(K,{ref:s,className:(0,U.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));H.displayName=K.displayName;let Y=a.forwardRef(({className:e,...t},s)=>r.jsx(G,{ref:s,className:(0,U.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Y.displayName=G.displayName},5960:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(9510),a=s(9692),n=s(2931);let i=(0,s(8570).createProxy)(String.raw`D:\Projetos Pessoais\ConectaFit\ConectaFit App - MVP 1.1\components\clients\client-details.tsx#ClientDetails`);var l=s(8585);async function o({params:e}){let t=(0,a.e)(),{data:{session:s}}=await t.auth.getSession();s||(0,l.redirect)("/login");let{data:o}=await t.from("profiles").select("user_type").eq("id",s.user.id).single();o?.user_type!=="trainer"&&(0,l.redirect)("/dashboard");let{count:d}=await t.from("training_sessions").select("id",{count:"exact",head:!0}).eq("trainer_id",s.user.id).eq("client_id",e.id);if(0===d){let{count:r}=await t.from("workout_plans").select("id",{count:"exact",head:!0}).eq("trainer_id",s.user.id).eq("client_id",e.id);0===r&&(0,l.redirect)("/clients")}return r.jsx(n.c,{children:r.jsx(i,{clientId:e.id,trainerId:s.user.id})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,303,620,404,570,344,813,481,564,601,463,334],()=>s(8971));module.exports=r})();