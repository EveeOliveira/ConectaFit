(()=>{var e={};e.id=957,e.ids=[957],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},4763:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(1484),s(5866),s(2734);var t=s(3191),r=s(8716),i=s(7922),l=s.n(i),n=s(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(a,o);let d=["",{children:["(dashboard)",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1484)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\search\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2734)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\search\\page.tsx"],m="/(dashboard)/search/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5853:(e,a,s)=>{Promise.resolve().then(s.bind(s,6931)),Promise.resolve().then(s.bind(s,9892))},9892:(e,a,s)=>{"use strict";s.d(a,{TrainerSearch:()=>h});var t=s(326),r=s(7577),i=s(2945),l=s(4432),n=s(772),o=s(2643),d=s(4474);function c({value:e,onValueChange:a,min:s=0,max:i,step:l=1,className:n=""}){let[o,d]=(0,r.useState)(null),c=(0,r.useRef)(null),m=e=>(e-s)/(i-s)*100,u=e=>a=>{a.preventDefault(),d(e)};(0,r.useCallback)(t=>{if(null===o||!c.current)return;let r=c.current.getBoundingClientRect(),n=s+Math.max(0,Math.min(100,(t.clientX-r.left)/r.width*100))/100*(i-s),d=[...e];d[o]=Math.max(s,Math.min(i,Math.round(n/l)*l)),2===e.length&&(0===o&&d[0]>d[1]&&(d[0]=d[1]),1===o&&d[1]<d[0]&&(d[1]=d[0])),a(d)},[o,s,i,l,e,a]),(0,r.useCallback)(()=>{d(null)},[]);let p=2===e.length,x=m(e[0]),h=p?m(e[1]):100;return t.jsx("div",{className:`relative w-full ${n}`,children:(0,t.jsxs)("div",{ref:c,className:"relative h-2 bg-gray-700 rounded-full cursor-pointer",children:[t.jsx("div",{className:"absolute h-2 bg-red-600 rounded-full",style:{left:p?`${x}%`:"0%",width:p?`${h-x}%`:`${x}%`}}),e.map((e,a)=>t.jsx("div",{className:"absolute w-5 h-5 bg-red-600 border-2 border-red-600 rounded-full cursor-grab active:cursor-grabbing transform -translate-x-1/2 -translate-y-1/2 top-1/2",style:{left:`${m(e)}%`},onMouseDown:u(a)},a))]})})}var m=s(1048),u=s(3734),p=s(434),x=s(4215);function h({specializations:e,userId:a}){let[s,h]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[b,j]=(0,r.useState)([0,500]),[v,N]=(0,r.useState)(0),[y,w]=(0,r.useState)([]),[_,P]=(0,r.useState)(!1),z=(0,i.e)(),{toast:C}=(0,x.pm)(),q=async()=>{P(!0);try{let{data:e,error:a}=await z.from("trainers").select(`
        id,
        specialization,
        experience_years,
        hourly_rate,
        rating,
        bio
      `);if(a)throw a;if(e&&e.length>0){let a=await Promise.all(e.map(async e=>{let{data:a}=await z.from("profiles").select("name, avatar_url").eq("id",e.id).single(),{data:s}=await z.from("trainer_specializations").select(`
              specializations:specialization_id (
                name
              )
            `).eq("trainer_id",e.id),t=s?s.map(e=>e.specializations.name):[];return{id:e.id,name:a?.name||"Nome n\xe3o dispon\xedvel",specialization:e.specialization,experience_years:e.experience_years,hourly_rate:e.hourly_rate,rating:e.rating,avatar_url:a?.avatar_url,specializations:t}}));w(a)}}catch(e){console.error("Erro ao buscar personal trainers:",e)}finally{P(!1)}},k=async e=>{try{let s=new Date;s.setDate(s.getDate()+7);let{error:t}=await z.from("training_sessions").insert({client_id:a,trainer_id:e,session_date:s.toISOString(),duration:60,status:"pending"});if(t)throw t;C({title:"Solicita\xe7\xe3o enviada",description:"O personal trainer foi notificado da sua solicita\xe7\xe3o."})}catch(e){console.error("Erro ao solicitar sess\xe3o:",e),C({title:"Erro",description:"N\xe3o foi poss\xedvel enviar a solicita\xe7\xe3o. Tente novamente.",variant:"destructive"})}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zb,{className:"bg-[#18181b] border-[#27272a] rounded-xl",children:[t.jsx(o.Ol,{className:"pb-4",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Filtros"})}),t.jsx(o.aY,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"search",className:"text-white font-medium",children:"Nome"}),t.jsx(l.I,{id:"search",placeholder:"Buscar por nome",value:s,onChange:e=>h(e.target.value),className:"bg-[#27272a] border-[#3f3f46] text-white placeholder:text-[#71717a] focus:border-red-600"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"specialization",className:"text-white font-medium",children:"Especializa\xe7\xe3o"}),(0,t.jsxs)(d.Ph,{value:f,onValueChange:g,children:[t.jsx(d.i4,{className:"bg-[#27272a] border-[#3f3f46] text-white",children:t.jsx(d.ki,{placeholder:"Todas"})}),(0,t.jsxs)(d.Bw,{className:"bg-[#18181b] border-[#27272a]",children:[t.jsx(d.Ql,{value:"all",className:"text-white hover:bg-[#27272a]",children:"Todas"}),e.map(e=>t.jsx(d.Ql,{value:e.name,className:"text-white hover:bg-[#27272a]",children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{className:"text-white font-medium",children:"Pre\xe7o por hora (R$)"}),(0,t.jsxs)("div",{className:"pt-4",children:[t.jsx(c,{value:b,onValueChange:e=>j(e),max:500,step:10}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-sm text-[#a1a1aa]",children:[(0,t.jsxs)("span",{children:["R$ ",b[0]]}),(0,t.jsxs)("span",{children:["R$ ",b[1]]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{className:"text-white font-medium",children:"Avalia\xe7\xe3o m\xednima"}),(0,t.jsxs)("div",{className:"pt-4",children:[t.jsx(c,{value:[v],onValueChange:e=>N(e[0]),max:5,step:.5}),(0,t.jsxs)("div",{className:"flex items-center mt-2",children:[t.jsx(u.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,t.jsxs)("span",{className:"ml-1 text-sm text-[#a1a1aa]",children:[v," ou mais"]})]})]})]})]})}),t.jsx(o.eW,{className:"flex justify-end pt-4 border-t border-[#27272a]",children:t.jsx(n.z,{variant:"outline",onClick:()=>{h(""),g(""),j([0,500]),N(0),q()},className:"border-[#3f3f46] text-white hover:bg-[#27272a]",children:"Limpar filtros"})})]}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:_?t.jsx("div",{className:"col-span-full flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):y.length>0?y.map(e=>(0,t.jsxs)(o.Zb,{className:"bg-[#18181b] border-[#27272a] rounded-xl overflow-hidden",children:[t.jsx("div",{className:"aspect-[4/3] relative bg-[#27272a]",children:e.avatar_url?t.jsx("img",{src:e.avatar_url||"/placeholder.svg",alt:e.name,className:"object-cover w-full h-full"}):t.jsx("div",{className:"w-full h-full bg-[#27272a] flex items-center justify-center",children:t.jsx("span",{className:"text-4xl font-bold text-[#71717a]",children:e.name.charAt(0)})})}),(0,t.jsxs)(o.aY,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[t.jsx("h3",{className:"font-bold text-lg text-white",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(u.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"ml-1 text-sm text-white",children:e.rating.toFixed(1)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-[#a1a1aa]",children:[e.experience_years," ",1===e.experience_years?"ano":"anos"," de experi\xeancia"]}),(0,t.jsxs)("p",{className:"text-sm font-medium text-white",children:["R$ ",e.hourly_rate.toFixed(2),"/hora"]}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:e.specializations.map((e,a)=>t.jsx("span",{className:"px-2 py-1 bg-[#27272a] text-[#a1a1aa] text-xs rounded-full",children:e},a))})]})]}),(0,t.jsxs)(o.eW,{className:"p-6 pt-0 flex gap-2",children:[t.jsx(n.z,{variant:"outline",className:"w-full border-[#3f3f46] text-white hover:bg-[#27272a]",asChild:!0,children:t.jsx(p.default,{href:`/trainers/${e.id}`,children:"Ver perfil"})}),t.jsx(n.z,{className:"w-full bg-red-600 hover:bg-red-700 text-white",onClick:()=>k(e.id),children:"Solicitar"})]})]},e.id)):t.jsx("div",{className:"col-span-full text-center py-8",children:t.jsx("p",{className:"text-muted-foreground",children:"Nenhum personal trainer encontrado"})})})]})}},4432:(e,a,s)=>{"use strict";s.d(a,{I:()=>l});var t=s(326),r=s(7577),i=s(7863);let l=r.forwardRef(({className:e,type:a,...s},r)=>t.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));l.displayName="Input"},1048:(e,a,s)=>{"use strict";s.d(a,{_:()=>d});var t=s(326),r=s(7577),i=s(4478),l=s(9360),n=s(7863);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...a},s)=>t.jsx(i.f,{ref:s,className:(0,n.cn)(o(),e),...a}));d.displayName=i.f.displayName},4474:(e,a,s)=>{"use strict";s.d(a,{Bw:()=>h,Ph:()=>c,Ql:()=>f,i4:()=>u,ki:()=>m});var t=s(326),r=s(7577),i=s(7146),l=s(8393),n=s(6633),o=s(2933),d=s(7863);let c=i.fC;i.ZA;let m=i.B4,u=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(i.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,t.jsx(i.JO,{asChild:!0,children:t.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let p=r.forwardRef(({className:e,...a},s)=>t.jsx(i.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(n.Z,{className:"h-4 w-4"})}));p.displayName=i.u_.displayName;let x=r.forwardRef(({className:e,...a},s)=>t.jsx(i.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=i.$G.displayName;let h=r.forwardRef(({className:e,children:a,position:s="popper",...r},l)=>t.jsx(i.h_,{children:(0,t.jsxs)(i.VY,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(p,{}),t.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(x,{})]})}));h.displayName=i.VY.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(i.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=i.__.displayName;let f=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(i.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(i.wU,{children:t.jsx(o.Z,{className:"h-4 w-4"})})}),t.jsx(i.eT,{children:a})]}));f.displayName=i.ck.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(i.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=i.Z0.displayName},3734:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(6557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},1484:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(9510),r=s(2931);let i=(0,s(8570).createProxy)(String.raw`D:\Projetos Pessoais\ConectaFit\ConectaFit App - MVP 1.1\components\search\trainer-search.tsx#TrainerSearch`);var l=s(9692),n=s(8585);async function o(){let e=(0,l.e)(),{data:{session:a}}=await e.auth.getSession();a||(0,n.redirect)("/login");let{data:s}=await e.from("profiles").select("user_type").eq("id",a.user.id).single();s?.user_type!=="client"&&(0,n.redirect)("/dashboard");let{data:o}=await e.from("specializations").select("id, name").order("name");return t.jsx(r.c,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Buscar Personal Trainers"}),t.jsx("p",{className:"text-muted-foreground",children:"Encontre o personal trainer ideal para seus objetivos"})]}),t.jsx(i,{specializations:o||[],userId:a.user.id})]})})}}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[276,303,620,404,570,344,813,481,564,601,894,415,334],()=>s(4763));module.exports=t})();