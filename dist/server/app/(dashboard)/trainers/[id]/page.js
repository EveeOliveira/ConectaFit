(()=>{var e={};e.id=539,e.ids=[539],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2250:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),r(3122),r(5866),r(2734);var a=r(3191),s=r(8716),i=r(7922),n=r.n(i),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["(dashboard)",{children:["trainers",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3122)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\trainers\\[id]\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2734)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\trainers\\[id]\\page.tsx"],u="/(dashboard)/trainers/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/trainers/[id]/page",pathname:"/trainers/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8127:(e,t,r)=>{Promise.resolve().then(r.bind(r,6931)),Promise.resolve().then(r.bind(r,7581))},7581:(e,t,r)=>{"use strict";r.d(t,{TrainerProfile:()=>p});var a=r(326),s=r(7577),i=r(2945),n=r(772),l=r(2643),o=r(9258),d=r(7673),c=r(3734),u=r(4215),m=r(2982),f=r(6042);function p({trainer:e,reviews:t,userId:r}){let[p,x]=(0,s.useState)(""),[h,v]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[j,y]=(0,s.useState)(!1),w=(0,i.e)(),{toast:N}=(0,u.pm)(),_=async()=>{if(!p||!h){N({title:"Erro",description:"Por favor, selecione uma data e hor\xe1rio para a sess\xe3o.",variant:"destructive"});return}y(!0);try{let t=new Date(`${p}T${h}:00`),{error:a}=await w.from("training_sessions").insert({client_id:r,trainer_id:e.id,session_date:t.toISOString(),duration:60,notes:g,status:"pending"});if(a)throw a;N({title:"Solicita\xe7\xe3o enviada",description:"O personal trainer foi notificado da sua solicita\xe7\xe3o."}),x(""),v(""),b("")}catch(e){console.error("Erro ao solicitar sess\xe3o:",e),N({title:"Erro",description:"N\xe3o foi poss\xedvel enviar a solicita\xe7\xe3o. Tente novamente.",variant:"destructive"})}finally{y(!1)}},P=Array.from({length:14},(e,t)=>{let r=new Date;return r.setDate(r.getDate()+t+1),r.toISOString().split("T")[0]});return a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("div",{className:"md:w-1/3",children:a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mb-4",children:e.avatar_url?a.jsx("img",{src:e.avatar_url||"/placeholder.svg",alt:e.name,className:"object-cover w-full h-full"}):a.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:a.jsx("span",{className:"text-4xl font-bold text-muted-foreground",children:e.name.charAt(0)})})}),a.jsx("h2",{className:"text-2xl font-bold",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[Array.from({length:5}).map((t,r)=>a.jsx(c.Z,{className:`h-5 w-5 ${r<Math.floor(e.rating)?"fill-yellow-400 text-yellow-400":r<e.rating?"fill-yellow-400 text-yellow-400 opacity-50":"text-muted-foreground"}`},r)),a.jsx("span",{className:"ml-2 text-sm font-medium",children:e.rating.toFixed(1)})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.experience_years," ",1===e.experience_years?"ano":"anos"," de experi\xeancia"]}),(0,a.jsxs)("p",{className:"text-lg font-medium",children:["R$ ",e.hourly_rate.toFixed(2),"/hora"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-4 justify-center",children:e.specializations.map((e,t)=>a.jsx("span",{className:"px-2 py-1 bg-muted text-xs rounded-full",children:e},t))})]})})})}),a.jsx("div",{className:"md:w-2/3",children:(0,a.jsxs)(o.mQ,{defaultValue:"about",children:[(0,a.jsxs)(o.dr,{className:"grid w-full grid-cols-3",children:[a.jsx(o.SP,{value:"about",children:"Sobre"}),a.jsx(o.SP,{value:"schedule",children:"Agendar"}),(0,a.jsxs)(o.SP,{value:"reviews",children:["Avalia\xe7\xf5es (",t.length,")"]})]}),a.jsx(o.nU,{value:"about",className:"mt-4",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{children:["Sobre ",e.name]})}),a.jsx(l.aY,{children:a.jsx("p",{children:e.bio||"Nenhuma informa\xe7\xe3o dispon\xedvel."})})]})}),a.jsx(o.nU,{value:"schedule",className:"mt-4",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Agendar Sess\xe3o"}),(0,a.jsxs)(l.SZ,{children:["Escolha uma data e hor\xe1rio para sua sess\xe3o com ",e.name]})]}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Selecione uma data"}),a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:P.map(e=>(0,a.jsxs)(n.z,{type:"button",variant:p===e?"default":"outline",className:"h-auto py-2",onClick:()=>x(e),children:[a.jsx("div",{className:"text-xs",children:(0,m.WU)(new Date(e),"EEE",{locale:f.F})}),a.jsx("div",{children:(0,m.WU)(new Date(e),"dd/MM")})]},e))})]}),p&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Selecione um hor\xe1rio"}),a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:["08:00","09:00","10:00","11:00","14:00","15:00","16:00","17:00","18:00"].map(e=>a.jsx(n.z,{type:"button",variant:h===e?"default":"outline",className:"h-auto py-2",onClick:()=>v(e),children:e},e))})]}),p&&h&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observa\xe7\xf5es (opcional)"}),a.jsx(d.g,{placeholder:"Adicione informa\xe7\xf5es relevantes para o personal trainer",value:g,onChange:e=>b(e.target.value),className:"resize-none",rows:3})]})]})}),a.jsx(l.eW,{children:a.jsx(n.z,{onClick:_,disabled:!p||!h||j,className:"w-full",children:j?"Enviando...":"Solicitar Sess\xe3o"})})]})}),a.jsx(o.nU,{value:"reviews",className:"mt-4",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Avalia\xe7\xf5es"})}),a.jsx(l.aY,{children:t.length>0?a.jsx("div",{className:"space-y-4",children:t.map(e=>a.jsx("div",{className:"border-b pb-4 last:border-0",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:e.client_avatar?a.jsx("img",{src:e.client_avatar||"/placeholder.svg",alt:e.client_name,className:"object-cover w-full h-full"}):a.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:e.client_name.charAt(0)})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:e.client_name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:(0,m.WU)(new Date(e.created_at),"dd/MM/yyyy")})]}),a.jsx("div",{className:"flex mt-1",children:Array.from({length:5}).map((t,r)=>a.jsx(c.Z,{className:`h-4 w-4 ${r<e.rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},r))}),e.comment&&a.jsx("p",{className:"mt-2 text-sm",children:e.comment})]})]})},e.id))}):a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma avalia\xe7\xe3o dispon\xedvel"})})]})})]})})]})})}},9258:(e,t,r)=>{"use strict";r.d(t,{mQ:()=>L,nU:()=>Q,dr:()=>B,SP:()=>Y});var a=r(326),s=r(7577),i=r(2561),n=r(3095),l=r(545),o=r(8051),d=r(8957),c=r(5226),u=r(5049),m=r(2067),f=r(7124),p="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[v,g,b]=(0,l.B)(h),[j,y]=(0,n.b)(h,[b]),[w,N]=j(h),_=s.forwardRef((e,t)=>(0,a.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(P,{...e,ref:t})})}));_.displayName=h;var P=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:l=!1,dir:d,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:j,onEntryFocus:y,preventScrollOnEntryFocus:N=!1,..._}=e,P=s.useRef(null),A=(0,o.e)(t,P),S=(0,f.gm)(d),[F,C]=(0,m.T)({prop:v,defaultProp:b??null,onChange:j,caller:h}),[D,q]=s.useState(!1),R=(0,u.W)(y),T=g(r),E=s.useRef(!1),[k,I]=s.useState(0);return s.useEffect(()=>{let e=P.current;if(e)return e.addEventListener(p,R),()=>e.removeEventListener(p,R)},[R]),(0,a.jsx)(w,{scope:r,orientation:n,dir:S,loop:l,currentTabStopId:F,onItemFocus:s.useCallback(e=>C(e),[C]),onItemShiftTab:s.useCallback(()=>q(!0),[]),onFocusableItemAdd:s.useCallback(()=>I(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>I(e=>e-1),[]),children:(0,a.jsx)(c.WV.div,{tabIndex:D||0===k?-1:0,"data-orientation":n,..._,ref:A,style:{outline:"none",...e.style},onMouseDown:(0,i.M)(e.onMouseDown,()=>{E.current=!0}),onFocus:(0,i.M)(e.onFocus,e=>{let t=!E.current;if(e.target===e.currentTarget&&t&&!D){let t=new CustomEvent(p,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=T().filter(e=>e.focusable);M([e.find(e=>e.active),e.find(e=>e.id===F),...e].filter(Boolean).map(e=>e.ref.current),N)}}E.current=!1}),onBlur:(0,i.M)(e.onBlur,()=>q(!1))})})}),A="RovingFocusGroupItem",S=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:l=!1,tabStopId:o,children:u,...m}=e,f=(0,d.M)(),p=o||f,x=N(A,r),h=x.currentTabStopId===p,b=g(r),{onFocusableItemAdd:j,onFocusableItemRemove:y,currentTabStopId:w}=x;return s.useEffect(()=>{if(n)return j(),()=>y()},[n,j,y]),(0,a.jsx)(v.ItemSlot,{scope:r,id:p,focusable:n,active:l,children:(0,a.jsx)(c.WV.span,{tabIndex:h?0:-1,"data-orientation":x.orientation,...m,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n?x.onItemFocus(p):e.preventDefault()}),onFocus:(0,i.M)(e.onFocus,()=>x.onItemFocus(p)),onKeyDown:(0,i.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){x.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return F[s]}(e,x.orientation,x.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=x.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>M(r))}}),children:"function"==typeof u?u({isCurrentTabStop:h,hasTabStop:null!=w}):u})})});S.displayName=A;var F={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var C=r(9815),D="Tabs",[q,R]=(0,n.b)(D,[y]),T=y(),[E,k]=q(D),I=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:o,activationMode:u="automatic",...p}=e,x=(0,f.gm)(o),[h,v]=(0,m.T)({prop:s,onChange:i,defaultProp:n??"",caller:D});return(0,a.jsx)(E,{scope:r,baseId:(0,d.M)(),value:h,onValueChange:v,orientation:l,dir:x,activationMode:u,children:(0,a.jsx)(c.WV.div,{dir:x,"data-orientation":l,...p,ref:t})})});I.displayName=D;var z="TabsList",V=s.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...i}=e,n=k(z,r),l=T(r);return(0,a.jsx)(_,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:s,children:(0,a.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:t})})});V.displayName=z;var W="TabsTrigger",K=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:n=!1,...l}=e,o=k(W,r),d=T(r),u=O(o.baseId,s),m=Z(o.baseId,s),f=s===o.value;return(0,a.jsx)(S,{asChild:!0,...d,focusable:!n,active:f,children:(0,a.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...l,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;f||n||!e||o.onValueChange(s)})})})});K.displayName=W;var U="TabsContent",G=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:n,children:l,...o}=e,d=k(U,r),u=O(d.baseId,i),m=Z(d.baseId,i),f=i===d.value,p=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(C.z,{present:n||f,children:({present:r})=>(0,a.jsx)(c.WV.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&l})})});function O(e,t){return`${e}-trigger-${t}`}function Z(e,t){return`${e}-content-${t}`}G.displayName=U;var $=r(7863);let L=I,B=s.forwardRef(({className:e,...t},r)=>a.jsx(V,{ref:r,className:(0,$.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));B.displayName=V.displayName;let Y=s.forwardRef(({className:e,...t},r)=>a.jsx(K,{ref:r,className:(0,$.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Y.displayName=K.displayName;let Q=s.forwardRef(({className:e,...t},r)=>a.jsx(G,{ref:r,className:(0,$.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Q.displayName=G.displayName},7673:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var a=r(326),s=r(7577),i=r(7863);let n=s.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));n.displayName="Textarea"},3734:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},3122:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(9510),s=r(9692),i=r(2931);let n=(0,r(8570).createProxy)(String.raw`D:\Projetos Pessoais\ConectaFit\ConectaFit App - MVP 1.1\components\trainers\trainer-profile.tsx#TrainerProfile`);var l=r(8585);async function o({params:e}){let t=(0,s.e)(),{data:{session:r}}=await t.auth.getSession();r||(0,l.redirect)("/login");let{data:o}=await t.from("profiles").select("user_type").eq("id",r.user.id).single();o?.user_type!=="client"&&(0,l.redirect)("/dashboard");let{data:d}=await t.from("trainers").select(`
      id,
      specialization,
      experience_years,
      hourly_rate,
      bio,
      rating
    `).eq("id",e.id).single();d||(0,l.redirect)("/search");let{data:c}=await t.from("profiles").select("name, avatar_url").eq("id",e.id).single(),{data:u}=await t.from("trainer_specializations").select(`
      specializations:specialization_id (
        name
      )
    `).eq("trainer_id",e.id),m={id:d.id,name:c?.name||"Nome n\xe3o dispon\xedvel",avatar_url:c?.avatar_url,specialization:d.specialization,experience_years:d.experience_years,hourly_rate:d.hourly_rate,bio:d.bio,rating:d.rating,specializations:u?u.map(e=>e.specializations.name):[]},{data:f}=await t.from("trainer_reviews").select(`
      id,
      rating,
      comment,
      created_at,
      client_id
    `).eq("trainer_id",e.id).order("created_at",{ascending:!1}),p=await Promise.all((f||[]).map(async e=>{let{data:r}=await t.from("profiles").select("name, avatar_url").eq("id",e.client_id).single();return{id:e.id,rating:e.rating,comment:e.comment,created_at:e.created_at,client_name:r?.name||"Cliente",client_avatar:r?.avatar_url}}));return a.jsx(i.c,{children:a.jsx(n,{trainer:m,reviews:p||[],userId:r.user.id})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,303,620,404,570,344,813,481,564,601,463,334],()=>r(2250));module.exports=a})();