"use strict";(()=>{var e={};e.id=211,e.ids=[211],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},7702:e=>{e.exports=require("events")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8216:e=>{e.exports=require("net")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},2452:e=>{e.exports=require("tls")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},3367:(e,r,t)=>{t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>l}),t(9757),t(5866),t(2734);var i=t(3191),o=t(8716),s=t(7922),a=t.n(s),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let l=["",{children:["(dashboard)",{children:["workouts",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9757)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\workouts\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2734)),"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\(dashboard)\\workouts\\[id]\\edit\\page.tsx"],p="/(dashboard)/workouts/[id]/edit/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(dashboard)/workouts/[id]/edit/page",pathname:"/workouts/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9757:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var i=t(9510),o=t(9692),s=t(2931),a=t(3537),n=t(8585);async function d({params:e}){let r=(0,o.e)(),{data:{session:t}}=await r.auth.getSession();t||(0,n.redirect)("/login");let{data:d}=await r.from("profiles").select("user_type").eq("id",t.user.id).single();d?.user_type!=="trainer"&&(0,n.redirect)("/dashboard");let{data:l,error:c}=await r.from("workout_plans").select("id, title, description, client_id").eq("id",e.id).eq("trainer_id",t.user.id).single();(c||!l)&&(0,n.redirect)("/workouts");let{data:p,error:u}=await r.from("workout_exercises").select("id, exercise_id, sets, reps, rest_time, notes, order_index").eq("workout_plan_id",e.id).order("order_index",{ascending:!0});u&&console.error("Erro ao buscar exerc\xedcios:",u),console.log(`Carregados ${p?.length||0} exerc\xedcios para a ficha ${e.id}`);let{data:x}=await r.from("training_sessions").select("client_id").eq("trainer_id",t.user.id),{data:m}=await r.from("workout_plans").select("client_id").eq("trainer_id",t.user.id),_=new Set([...x?.map(e=>e.client_id)||[],...m?.map(e=>e.client_id)||[]]),h=await Promise.all(Array.from(_).map(async e=>{let{data:t}=await r.from("profiles").select("name").eq("id",e).single();return{id:e,name:t?.name||"Cliente"}})),{data:g}=await r.from("exercises").select("id, name").order("name"),f={id:l.id,title:l.title,description:l.description,client_id:l.client_id,exercises:p||[]};return i.jsx(s.c,{children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Editar Ficha de Treino"}),i.jsx("p",{className:"text-muted-foreground",children:"Atualize a ficha de treino do seu aluno"})]}),i.jsx(a.R,{trainerId:t.user.id,clients:h,exercises:g||[],workout:f})]})})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[276,303,620,404,570,344,813,481,564,601,894,415,421,334,923],()=>t(3367));module.exports=i})();