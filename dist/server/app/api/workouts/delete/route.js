(()=>{var e={};e.id=928,e.ids=[928],e.modules={7495:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=7495,e.exports=r},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},7191:(e,r,t)=>{"use strict";t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>f,staticGenerationAsyncStorage:()=>x});var o={};t.r(o),t.d(o,{POST:()=>l});var s=t(9303),i=t(8716),a=t(670),n=t(7721),c=t(1615),u=t(7070);async function l(e){try{let{workoutId:r}=await e.json();if(!r)return u.NextResponse.json({error:"ID da ficha n\xe3o fornecido"},{status:400});console.log("API: Iniciando exclus\xe3o da ficha:",r);let t=(0,c.cookies)(),o=(0,n.createServerClient)("http://supabasekong-hc8080k4ss4wk4wgo40c88g0.69.62.97.143.sslip.io",process.env.SUPABASE_SERVICE_ROLE_KEY,{cookies:{get:e=>t.get(e)?.value,set(e,r,o){t.set({name:e,value:r,...o})},remove(e,r){t.set({name:e,value:"",...r})}}}),{data:s,error:i}=await o.from("workout_plans").select("id, trainer_id").eq("id",r).single();if(i)return console.error("API: Erro ao buscar ficha:",i),u.NextResponse.json({error:"Ficha n\xe3o encontrada"},{status:404});console.log("API: Ficha encontrada:",s),console.log("API: Excluindo exerc\xedcios da ficha:",r);let{error:a}=await o.from("workout_exercises").delete().eq("workout_plan_id",r);if(a)return console.error("API: Erro ao excluir exerc\xedcios:",a),u.NextResponse.json({error:"Erro ao excluir exerc\xedcios da ficha"},{status:500});console.log("API: Excluindo a ficha:",r);let{error:l}=await o.from("workout_plans").delete().eq("id",r);if(l)return console.error("API: Erro ao excluir ficha:",l),u.NextResponse.json({error:`Erro ao excluir ficha: ${l.message}`},{status:500});return console.log("API: Ficha exclu\xedda com sucesso"),u.NextResponse.json({success:!0,message:"Ficha exclu\xedda com sucesso"})}catch(e){return console.error("API: Erro ao processar solicita\xe7\xe3o:",e),u.NextResponse.json({error:e instanceof Error?e.message:"Erro interno do servidor"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/workouts/delete/route",pathname:"/api/workouts/delete",filename:"route",bundlePath:"app/api/workouts/delete/route"},resolvedPagePath:"D:\\Projetos Pessoais\\ConectaFit\\ConectaFit App - MVP 1.1\\app\\api\\workouts\\delete\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:x,serverHooks:f}=p,h="/api/workouts/delete/route";function g(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:x})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,303,972,721],()=>t(7191));module.exports=o})();