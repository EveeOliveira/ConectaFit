(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{6559:function(e,t,r){Promise.resolve().then(r.bind(r,6907)),Promise.resolve().then(r.bind(r,8325))},6907:function(e,t,r){"use strict";r.d(t,{DashboardLayout:function(){return y}});var s=r(7437),a=r(2265),n=r(7648),i=r(9376),o=r(4508),l=r(2869),c=r(9637),u=r(3247),d=r(1047),f=r(3850),h=r(2369),m=r(7692),p=r(970);function x(){let e=(0,i.usePathname)(),[t,r]=(0,a.useState)(null),x=(0,p.e)();(0,a.useEffect)(()=>{!async function(){let{data:{session:e}}=await x.auth.getSession();if(e){let{data:t}=await x.from("profiles").select("user_type").eq("id",e.user.id).single();t&&r(t.user_type)}}()},[x]);let v=async()=>{await x.auth.signOut(),window.location.href="/"},b=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/search",label:"Buscar",icon:u.Z},{href:"/sessions",label:"Sess\xf5es",icon:d.Z},{href:"/workouts",label:"Treinos",icon:f.Z},{href:"/profile",label:"Perfil",icon:h.Z}],g=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/clients",label:"Alunos",icon:h.Z},{href:"/sessions",label:"Sess\xf5es",icon:d.Z},{href:"/workouts",label:"Treinos",icon:f.Z},{href:"/profile",label:"Perfil",icon:h.Z}];return(0,s.jsxs)("nav",{className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"flex flex-col space-y-2 flex-1",children:("client"===t?b:g).map(t=>{let r=t.icon,a=e===t.href;return(0,s.jsx)(n.default,{href:t.href,children:(0,s.jsxs)(l.z,{variant:"ghost",className:(0,o.cn)("w-full justify-start h-12 text-left font-normal",a?"bg-red-600 text-white hover:bg-red-700":"text-[#a1a1aa] hover:text-white hover:bg-[#27272a]"),children:[(0,s.jsx)(r,{className:"mr-3 h-5 w-5"}),t.label]})},t.href)})}),(0,s.jsx)("div",{className:"mt-auto pt-4",children:(0,s.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start h-12 text-[#a1a1aa] hover:text-white hover:bg-[#27272a]",onClick:v,children:[(0,s.jsx)(m.Z,{className:"mr-3 h-5 w-5"}),"Sair"]})})]})}function v(){let e=(0,i.usePathname)(),[t,r]=(0,a.useState)(null),l=(0,p.e)();(0,a.useEffect)(()=>{!async function(){let{data:{session:e}}=await l.auth.getSession();if(e){let{data:t}=await l.from("profiles").select("user_type").eq("id",e.user.id).single();t&&r(t.user_type)}}()},[]);let m=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/search",label:"Buscar",icon:u.Z},{href:"/sessions",label:"Sess\xf5es",icon:d.Z},{href:"/workouts",label:"Treinos",icon:f.Z},{href:"/profile",label:"Perfil",icon:h.Z}],x=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/clients",label:"Alunos",icon:h.Z},{href:"/sessions",label:"Sess\xf5es",icon:d.Z},{href:"/workouts",label:"Treinos",icon:f.Z},{href:"/profile",label:"Perfil",icon:h.Z}];return(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t",children:(0,s.jsx)("div",{className:"grid grid-cols-5 h-16",children:("client"===t?m:x).map(t=>{let r=t.icon;return(0,s.jsxs)(n.default,{href:t.href,className:(0,o.cn)("flex flex-col items-center justify-center text-xs font-medium transition-colors",e===t.href?"text-primary":"text-muted-foreground"),children:[(0,s.jsx)(r,{className:"h-5 w-5 mb-1"}),t.label]},t.href)})})})}var b=r(5153),g=r(3145);function y(e){let{children:t}=e,[r,n]=(0,a.useState)(!0),o=(0,i.useRouter)(),l=(0,p.e)(),{toast:c}=(0,b.pm)();return((0,a.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:t}=await l.auth.getSession();if(t)throw console.error("Erro ao verificar sess\xe3o:",t),t;if(!e){await l.auth.signOut(),o.push("/login");return}n(!1)}catch(e){console.error("Erro ao verificar autentica\xe7\xe3o:",e),c({title:"Erro de autentica\xe7\xe3o",description:"Por favor, fa\xe7a login novamente.",variant:"destructive"}),o.push("/login")}})()},[o,l.auth,c]),r)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-black",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,s.jsxs)("div",{className:"flex min-h-screen bg-black text-white",children:[(0,s.jsxs)("div",{className:"hidden md:flex w-80 flex-col bg-black border-r border-[#27272a] fixed h-screen",children:[(0,s.jsx)("div",{className:"pt-6 pb-8",children:(0,s.jsx)("div",{className:"px-6",children:(0,s.jsx)(g.default,{src:"/logo-conectafit.png",alt:"ConectaFit",width:400,height:80,className:"h-12 w-auto"})})}),(0,s.jsx)("div",{className:"flex-1 px-6 overflow-y-auto",children:(0,s.jsx)(x,{})})]}),(0,s.jsx)("main",{className:"flex-1 pb-16 md:pb-0 md:ml-80",children:(0,s.jsx)("div",{className:"p-8",children:t})}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(v,{})})]})}},8325:function(e,t,r){"use strict";r.d(t,{ProfileForm:function(){return f}});var s=r(7437),a=r(2265),n=r(970),i=r(6070),o=r(5186),l=r(6815),c=r(2869),u=r(6818),d=r(5153);function f(e){let{userId:t,profile:r,userData:f}=e,[h,m]=(0,a.useState)(r.name),[p,x]=(0,a.useState)(r.avatar_url||""),[v,b]=(0,a.useState)(!1),[g,y]=(0,a.useState)(f.fitness_goals||""),[j,w]=(0,a.useState)(f.health_info||""),[N,S]=(0,a.useState)(f.specialization||""),[k,_]=(0,a.useState)(f.experience_years||""),[I,Z]=(0,a.useState)(f.hourly_rate||""),[C,T]=(0,a.useState)(f.bio||""),E=(0,n.e)(),{toast:z}=(0,d.pm)(),O=async e=>{e.preventDefault(),b(!0);try{let{error:e}=await E.from("profiles").update({name:h,avatar_url:p||null,updated_at:new Date().toISOString()}).eq("id",t);if(e)throw e;if("client"===r.user_type){let{error:e}=await E.from("clients").update({fitness_goals:g||null,health_info:j||null}).eq("id",t);if(e)throw e}else{let{error:e}=await E.from("trainers").update({specialization:N||null,experience_years:k?Number(k):null,hourly_rate:I?Number(I):null,bio:C||null}).eq("id",t);if(e)throw e}z({title:"Perfil atualizado",description:"Suas informa\xe7\xf5es foram atualizadas com sucesso."})}catch(e){console.error("Erro ao atualizar perfil:",e),z({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{b(!1)}};return(0,s.jsx)("form",{onSubmit:O,children:(0,s.jsxs)(i.Zb,{className:"bg-[#101010] border-0",children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsx)(i.ll,{children:"Informa\xe7\xf5es Pessoais"}),(0,s.jsx)(i.SZ,{children:"Atualize suas informa\xe7\xf5es pessoais"})]}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"name",children:"Nome"}),(0,s.jsx)(o.I,{id:"name",value:h,onChange:e=>m(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"email",children:"Email"}),(0,s.jsx)(o.I,{id:"email",value:r.email,disabled:!0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"O email n\xe3o pode ser alterado"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"avatar",children:"URL da Foto de Perfil"}),(0,s.jsx)(o.I,{id:"avatar",value:p,onChange:e=>x(e.target.value),placeholder:"https://exemplo.com/sua-foto.jpg"})]}),"client"===r.user_type?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"fitness-goals",children:"Objetivos Fitness"}),(0,s.jsx)(u.g,{id:"fitness-goals",value:g,onChange:e=>y(e.target.value),placeholder:"Descreva seus objetivos fitness",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"health-info",children:"Informa\xe7\xf5es de Sa\xfade"}),(0,s.jsx)(u.g,{id:"health-info",value:j,onChange:e=>w(e.target.value),placeholder:"Compartilhe informa\xe7\xf5es relevantes sobre sua sa\xfade",rows:3})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"specialization",children:"Especializa\xe7\xe3o"}),(0,s.jsx)(o.I,{id:"specialization",value:N,onChange:e=>S(e.target.value),placeholder:"Ex: Muscula\xe7\xe3o, Crossfit, etc."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"experience",children:"Anos de Experi\xeancia"}),(0,s.jsx)(o.I,{id:"experience",type:"number",value:k,onChange:e=>_(e.target.value),placeholder:"Ex: 5"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"rate",children:"Valor por Hora (R$)"}),(0,s.jsx)(o.I,{id:"rate",type:"number",step:"0.01",value:I,onChange:e=>Z(e.target.value),placeholder:"Ex: 100.00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"bio",children:"Biografia"}),(0,s.jsx)(u.g,{id:"bio",value:C,onChange:e=>T(e.target.value),placeholder:"Conte um pouco sobre sua experi\xeancia e metodologia",rows:4})]})]})]}),(0,s.jsx)(i.eW,{children:(0,s.jsx)(c.z,{type:"submit",disabled:v,children:v?"Salvando...":"Salvar Altera\xe7\xf5es"})})]})})}},2869:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return c}});var s=r(7437),a=r(2265),n=r(7495),i=r(535),o=r(4508);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...u}=e,d=c?n.g7:"button";return(0,s.jsx)(d,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...u})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return u},eW:function(){return d},ll:function(){return l}});var s=r(7437),a=r(2265),n=r(4508);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});u.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});d.displayName="CardFooter"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7437),a=r(2265),n=r(4508);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var s=r(7437),a=r(2265),n=r(6394),i=r(535),o=r(4508);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,o.cn)(l(),r),...a})});c.displayName=n.f.displayName},6818:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var s=r(7437),a=r(2265),n=r(4508);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});i.displayName="Textarea"},5153:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var s=r(2265);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function u(e){c=o(c,e),l.forEach(e=>{e(c)})}function d(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},970:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});var s=r(5452);let a=null,n=()=>(a||(a=(0,s.createClientComponentClient)({supabaseUrl:"http://supabasekong-hc8080k4ss4wk4wgo40c88g0.69.62.97.143.sslip.io",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlIiwiaWF0IjoxNzQ5MDkyNDAwLCJleHAiOjE5MDY4NTg4MDB9.xwIZPMT3dmBZGKiS3o37g8cRdcZJloCr9v1gIcmrp04",options:{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}})),a)},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(1994),a=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},3850:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]])},9637:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},7692:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(8461),a=r.n(s)},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let s=r(7043),a=r(5346),n=r(5878),i=s._(r(5084));function o(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=n.Image},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});var s=r(2265),a=r(6840),n=r(7437),i=s.forwardRef((e,t)=>(0,n.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},6840:function(e,t,r){"use strict";r.d(t,{WV:function(){return o},jH:function(){return l}});var s=r(2265),a=r(4887),n=r(7495),i=r(7437),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.Z8)(`Primitive.${t}`),a=s.forwardRef((e,s)=>{let{asChild:a,...n}=e,o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...n,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[972,804,452,878,971,117,744],function(){return e(e.s=6559)}),_N_E=e.O()}]);