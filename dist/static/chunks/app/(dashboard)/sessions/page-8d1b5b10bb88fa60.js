(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{5356:function(e,t,a){Promise.resolve().then(a.bind(a,6907)),Promise.resolve().then(a.bind(a,9280)),Promise.resolve().then(a.bind(a,1194))},6907:function(e,t,a){"use strict";a.d(t,{DashboardLayout:function(){return j}});var s=a(7437),n=a(2265),r=a(7648),i=a(9376),o=a(4508),l=a(2869),c=a(9637),d=a(3247),u=a(1047),m=a(3850),f=a(2369),h=a(7692),x=a(970);function b(){let e=(0,i.usePathname)(),[t,a]=(0,n.useState)(null),b=(0,x.e)();(0,n.useEffect)(()=>{!async function(){let{data:{session:e}}=await b.auth.getSession();if(e){let{data:t}=await b.from("profiles").select("user_type").eq("id",e.user.id).single();t&&a(t.user_type)}}()},[b]);let p=async()=>{await b.auth.signOut(),window.location.href="/"},v=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/search",label:"Buscar",icon:d.Z},{href:"/sessions",label:"Sess\xf5es",icon:u.Z},{href:"/workouts",label:"Treinos",icon:m.Z},{href:"/profile",label:"Perfil",icon:f.Z}],g=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/clients",label:"Alunos",icon:f.Z},{href:"/sessions",label:"Sess\xf5es",icon:u.Z},{href:"/workouts",label:"Treinos",icon:m.Z},{href:"/profile",label:"Perfil",icon:f.Z}];return(0,s.jsxs)("nav",{className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"flex flex-col space-y-2 flex-1",children:("client"===t?v:g).map(t=>{let a=t.icon,n=e===t.href;return(0,s.jsx)(r.default,{href:t.href,children:(0,s.jsxs)(l.z,{variant:"ghost",className:(0,o.cn)("w-full justify-start h-12 text-left font-normal",n?"bg-red-600 text-white hover:bg-red-700":"text-[#a1a1aa] hover:text-white hover:bg-[#27272a]"),children:[(0,s.jsx)(a,{className:"mr-3 h-5 w-5"}),t.label]})},t.href)})}),(0,s.jsx)("div",{className:"mt-auto pt-4",children:(0,s.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start h-12 text-[#a1a1aa] hover:text-white hover:bg-[#27272a]",onClick:p,children:[(0,s.jsx)(h.Z,{className:"mr-3 h-5 w-5"}),"Sair"]})})]})}function p(){let e=(0,i.usePathname)(),[t,a]=(0,n.useState)(null),l=(0,x.e)();(0,n.useEffect)(()=>{!async function(){let{data:{session:e}}=await l.auth.getSession();if(e){let{data:t}=await l.from("profiles").select("user_type").eq("id",e.user.id).single();t&&a(t.user_type)}}()},[]);let h=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/search",label:"Buscar",icon:d.Z},{href:"/sessions",label:"Sess\xf5es",icon:u.Z},{href:"/workouts",label:"Treinos",icon:m.Z},{href:"/profile",label:"Perfil",icon:f.Z}],b=[{href:"/dashboard",label:"In\xedcio",icon:c.Z},{href:"/clients",label:"Alunos",icon:f.Z},{href:"/sessions",label:"Sess\xf5es",icon:u.Z},{href:"/workouts",label:"Treinos",icon:m.Z},{href:"/profile",label:"Perfil",icon:f.Z}];return(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t",children:(0,s.jsx)("div",{className:"grid grid-cols-5 h-16",children:("client"===t?h:b).map(t=>{let a=t.icon;return(0,s.jsxs)(r.default,{href:t.href,className:(0,o.cn)("flex flex-col items-center justify-center text-xs font-medium transition-colors",e===t.href?"text-primary":"text-muted-foreground"),children:[(0,s.jsx)(a,{className:"h-5 w-5 mb-1"}),t.label]},t.href)})})})}var v=a(5153),g=a(3145);function j(e){let{children:t}=e,[a,r]=(0,n.useState)(!0),o=(0,i.useRouter)(),l=(0,x.e)(),{toast:c}=(0,v.pm)();return((0,n.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:t}=await l.auth.getSession();if(t)throw console.error("Erro ao verificar sess\xe3o:",t),t;if(!e){await l.auth.signOut(),o.push("/login");return}r(!1)}catch(e){console.error("Erro ao verificar autentica\xe7\xe3o:",e),c({title:"Erro de autentica\xe7\xe3o",description:"Por favor, fa\xe7a login novamente.",variant:"destructive"}),o.push("/login")}})()},[o,l.auth,c]),a)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-black",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,s.jsxs)("div",{className:"flex min-h-screen bg-black text-white",children:[(0,s.jsxs)("div",{className:"hidden md:flex w-80 flex-col bg-black border-r border-[#27272a] fixed h-screen",children:[(0,s.jsx)("div",{className:"pt-6 pb-8",children:(0,s.jsx)("div",{className:"px-6",children:(0,s.jsx)(g.default,{src:"/logo-conectafit.png",alt:"ConectaFit",width:400,height:80,className:"h-12 w-auto"})})}),(0,s.jsx)("div",{className:"flex-1 px-6 overflow-y-auto",children:(0,s.jsx)(b,{})})]}),(0,s.jsx)("main",{className:"flex-1 pb-16 md:pb-0 md:ml-80",children:(0,s.jsx)("div",{className:"p-8",children:t})}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(p,{})})]})}},9280:function(e,t,a){"use strict";a.d(t,{ClientSessions:function(){return u}});var s=a(7437),n=a(2265),r=a(970),i=a(5153),o=a(2339),l=a(2869),c=a(1467),d=a(4862);function u(e){let{userId:t}=e,[a,u]=(0,n.useState)([]),[m,f]=(0,n.useState)(!0),[h,x]=(0,n.useState)(!1),[b,p]=(0,n.useState)("upcoming"),v=(0,r.e)(),{toast:g}=(0,i.pm)();(0,n.useEffect)(()=>{j()},[b]);let j=async()=>{f(!0);try{let e=new Date().toISOString(),a=v.from("training_sessions").select("\n        id,\n        trainer_id,\n        session_date,\n        duration,\n        location,\n        notes,\n        status\n      ").eq("client_id",t);"upcoming"===b?a=a.gte("session_date",e).in("status",["pending","accepted"]).order("session_date",{ascending:!0}):"past"===b?a=a.lt("session_date",e).or("status.eq.completed,status.eq.rejected").order("session_date",{ascending:!1}):"cancelled"===b&&(a=a.eq("status","cancelled").order("session_date",{ascending:!1}));let{data:s,error:n}=await a;if(n)throw n;if(s){let e=await Promise.all(s.map(async e=>{let{data:t}=await v.from("profiles").select("name, avatar_url").eq("id",e.trainer_id).single();return{id:e.id,trainer_id:e.trainer_id,session_date:e.session_date,duration:e.duration,location:e.location,notes:e.notes,status:e.status,trainer:{name:(null==t?void 0:t.name)||"Personal Trainer",avatar_url:null==t?void 0:t.avatar_url}}}));u(e)}}catch(e){console.error("Erro ao carregar sess\xf5es:",e)}finally{f(!1)}},y=async e=>{if(h)return!1;x(!0),console.log("Iniciando cancelamento direto da sess\xe3o: ".concat(e));try{let{error:a}=await v.from("training_sessions").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e).eq("client_id",t);if(a)throw console.error("Erro ao cancelar sess\xe3o:",a),Error("Falha ao cancelar: ".concat(a.message));let{data:s,error:n}=await v.from("training_sessions").select("status").eq("id",e).single();if(n)console.error("Erro ao verificar atualiza\xe7\xe3o:",n);else if("cancelled"!==s.status){console.warn("Aviso: O status n\xe3o foi alterado para 'cancelled':",s);let{error:a}=await v.from("training_sessions").update({status:"cancelled"}).eq("id",e).eq("client_id",t);if(a)throw console.error("Erro na segunda tentativa:",a),Error("N\xe3o foi poss\xedvel cancelar a sess\xe3o ap\xf3s m\xfaltiplas tentativas")}return u(t=>t.filter(t=>t.id!==e)),g({title:"Sess\xe3o cancelada",description:"A sess\xe3o foi cancelada com sucesso."}),p("cancelled"),!0}catch(e){return console.error("Erro detalhado ao cancelar sess\xe3o:",e),g({title:"Erro",description:e instanceof Error?e.message:"Erro ao cancelar sess\xe3o",variant:"destructive"}),!1}finally{x(!1)}},N=async(e,t)=>{e.preventDefault(),e.stopPropagation(),!h&&(console.log("Bot\xe3o de cancelamento clicado para sess\xe3o: ".concat(t)),a.find(e=>e.id===t)&&(u(e=>e.filter(e=>e.id!==t)),await y(t)||j()))},w=e=>0===e.length?(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-8 text-center",children:(0,s.jsx)("p",{className:"text-[#7b7b7b]",children:"Nenhuma sess\xe3o encontrada"})}):(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-6 hover:border-[#b4001a] transition-colors",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-white",children:e.trainer.name}),(0,s.jsx)("p",{className:"text-sm text-[#7b7b7b]",children:(0,c.WU)(new Date(e.session_date),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:d.F})}),(0,s.jsxs)("p",{className:"text-sm text-[#7b7b7b]",children:["Dura\xe7\xe3o: ",e.duration," minutos"]}),(0,s.jsxs)("p",{className:"text-sm mt-1",children:[(0,s.jsx)("span",{className:"text-[#7b7b7b]",children:"Status: "}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("accepted"===e.status?"bg-green-900/30 text-green-400 border border-green-800":"pending"===e.status?"bg-yellow-900/30 text-yellow-400 border border-yellow-800":"bg-red-900/30 text-red-400 border border-red-800"),children:"accepted"===e.status?"Confirmada":"pending"===e.status?"Pendente":"Cancelada"})]}),(0,s.jsxs)("p",{className:"text-xs mt-1 text-[#7b7b7b]",children:["ID: ",e.id]})]}),"upcoming"===b&&(0,s.jsx)("div",{children:(0,s.jsx)(l.z,{type:"button",variant:"destructive",onClick:t=>N(t,e.id),disabled:h,className:"bg-red-600 hover:bg-red-700 text-white border-red-600",children:h?"Cancelando...":"Cancelar"})})]})},e.id))});return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(o.mQ,{value:b,onValueChange:p,children:[(0,s.jsxs)(o.dr,{className:"grid grid-cols-3 bg-[#27272a] rounded-lg p-1 h-auto gap-1",children:[(0,s.jsx)(o.SP,{value:"upcoming",className:"data-[state=active]:bg-[#0c0c0c] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-[#7b7b7b] rounded-md px-4 py-2 transition-all duration-200 hover:text-white",children:"Pr\xf3ximas"}),(0,s.jsx)(o.SP,{value:"past",className:"data-[state=active]:bg-[#0c0c0c] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-[#7b7b7b] rounded-md px-4 py-2 transition-all duration-200 hover:text-white",children:"Conclu\xeddas"}),(0,s.jsx)(o.SP,{value:"cancelled",className:"data-[state=active]:bg-[#0c0c0c] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-[#7b7b7b] rounded-md px-4 py-2 transition-all duration-200 hover:text-white",children:"Canceladas"})]}),(0,s.jsx)(o.nU,{value:"upcoming",className:"mt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Pr\xf3ximas Sess\xf5es"}),m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):w(a)]})}),(0,s.jsx)(o.nU,{value:"past",className:"mt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Sess\xf5es Conclu\xeddas"}),m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):w(a)]})}),(0,s.jsx)(o.nU,{value:"cancelled",className:"mt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Sess\xf5es Canceladas"}),m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):w(a)]})})]})})}},1194:function(e,t,a){"use strict";a.d(t,{TrainerSessions:function(){return u}});var s=a(7437),n=a(2265),r=a(970),i=a(5153),o=a(2339),l=a(2869),c=a(1467),d=a(4862);function u(e){let{userId:t}=e,[a,u]=(0,n.useState)([]),[m,f]=(0,n.useState)(!0),[h,x]=(0,n.useState)("pending"),b=(0,r.e)(),{toast:p}=(0,i.pm)();(0,n.useEffect)(()=>{v()},[h]);let v=async()=>{f(!0);try{let e=new Date().toISOString(),a=b.from("training_sessions").select("\n        id,\n        client_id,\n        session_date,\n        duration,\n        location,\n        notes,\n        status\n      ").eq("trainer_id",t);"pending"===h?a=a.eq("status","pending").order("session_date",{ascending:!0}):"upcoming"===h?a=a.gte("session_date",e).eq("status","accepted").order("session_date",{ascending:!0}):"past"===h?a=a.lt("session_date",e).or("status.eq.completed,status.eq.rejected").order("session_date",{ascending:!1}):"cancelled"===h&&(a=a.eq("status","cancelled").order("session_date",{ascending:!1}));let{data:s,error:n}=await a;if(n)throw n;if(s){let e=await Promise.all(s.map(async e=>{let{data:t}=await b.from("profiles").select("name, avatar_url").eq("id",e.client_id).single();return{id:e.id,client_id:e.client_id,session_date:e.session_date,duration:e.duration,location:e.location,notes:e.notes,status:e.status,client:{name:(null==t?void 0:t.name)||"Cliente",avatar_url:null==t?void 0:t.avatar_url}}}));u(e)}}catch(e){console.error("Erro ao carregar sess\xf5es:",e)}finally{f(!1)}},g=async(e,t)=>{try{let{error:a}=await b.from("training_sessions").update({status:t}).eq("id",e);if(a)throw a;p({title:"Status atualizado",description:"A sess\xe3o foi ".concat("accepted"===t?"aceita":"rejected"===t?"rejeitada":"marcada como conclu\xedda"," com sucesso.")}),v()}catch(e){console.error("Erro ao atualizar status da sess\xe3o:",e),p({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar o status da sess\xe3o.",variant:"destructive"})}};return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(o.mQ,{defaultValue:"pending",onValueChange:x,children:[(0,s.jsxs)(o.dr,{className:"grid grid-cols-4 bg-[#27272a] rounded-lg p-1 h-auto gap-1",children:[(0,s.jsx)(o.SP,{value:"pending",className:"data-[state=active]:bg-[#0c0c0c] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-[#7b7b7b] rounded-md px-4 py-2 transition-all duration-200 hover:text-white",children:"Pendentes"}),(0,s.jsx)(o.SP,{value:"upcoming",className:"data-[state=active]:bg-[#0c0c0c] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-[#7b7b7b] rounded-md px-4 py-2 transition-all duration-200 hover:text-white",children:"Agendadas"}),(0,s.jsx)(o.SP,{value:"past",className:"data-[state=active]:bg-[#0c0c0c] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-[#7b7b7b] rounded-md px-4 py-2 transition-all duration-200 hover:text-white",children:"Conclu\xeddas"}),(0,s.jsx)(o.SP,{value:"cancelled",className:"data-[state=active]:bg-[#0c0c0c] data-[state=active]:text-white data-[state=inactive]:bg-transparent data-[state=inactive]:text-[#7b7b7b] rounded-md px-4 py-2 transition-all duration-200 hover:text-white",children:"Canceladas"})]}),(0,s.jsx)(o.nU,{value:"pending",className:"mt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Solicita\xe7\xf5es Pendentes"}),m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.length>0?(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-6 hover:border-[#b4001a] transition-colors",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-white",children:e.client.name}),(0,s.jsx)("p",{className:"text-sm text-[#7b7b7b]",children:(0,c.WU)(new Date(e.session_date),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:d.F})}),(0,s.jsxs)("p",{className:"text-sm text-[#7b7b7b]",children:["Dura\xe7\xe3o: ",e.duration," minutos"]}),e.notes&&(0,s.jsxs)("p",{className:"text-sm mt-2 text-[#7b7b7b]",children:[(0,s.jsx)("span",{className:"font-medium text-white",children:"Observa\xe7\xf5es:"})," ",e.notes]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.z,{variant:"default",onClick:()=>g(e.id,"accepted"),children:"Aceitar"}),(0,s.jsx)(l.z,{variant:"outline",onClick:()=>g(e.id,"rejected"),children:"Recusar"})]})]})},e.id))}):(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-8 text-center",children:(0,s.jsx)("p",{className:"text-[#7b7b7b]",children:"Nenhuma solicita\xe7\xe3o pendente"})})]})}),(0,s.jsx)(o.nU,{value:"upcoming",className:"mt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Sess\xf5es Agendadas"}),m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.length>0?(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-6 hover:border-[#b4001a] transition-colors",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-white",children:e.client.name}),(0,s.jsx)("p",{className:"text-sm text-[#7b7b7b]",children:(0,c.WU)(new Date(e.session_date),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:d.F})}),(0,s.jsxs)("p",{className:"text-sm text-[#7b7b7b]",children:["Dura\xe7\xe3o: ",e.duration," minutos"]}),e.notes&&(0,s.jsxs)("p",{className:"text-sm mt-2 text-[#7b7b7b]",children:[(0,s.jsx)("span",{className:"font-medium text-white",children:"Observa\xe7\xf5es:"})," ",e.notes]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.z,{variant:"default",onClick:()=>g(e.id,"completed"),children:"Marcar como conclu\xedda"}),(0,s.jsx)(l.z,{variant:"outline",onClick:()=>g(e.id,"cancelled"),children:"Cancelar"})]})]})},e.id))}):(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-8 text-center",children:(0,s.jsx)("p",{className:"text-[#7b7b7b]",children:"Nenhuma sess\xe3o agendada"})})]})}),(0,s.jsx)(o.nU,{value:"past",className:"mt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Sess\xf5es Conclu\xeddas"}),m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.length>0?(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-6 hover:border-[#b4001a] transition-colors",children:(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-white",children:e.client.name}),(0,s.jsx)("p",{className:"text-sm text-[#7b7b7b]",children:(0,c.WU)(new Date(e.session_date),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:d.F})}),(0,s.jsxs)("p",{className:"text-sm text-[#7b7b7b]",children:["Dura\xe7\xe3o: ",e.duration," minutos"]}),e.notes&&(0,s.jsxs)("p",{className:"text-sm mt-2 text-[#7b7b7b]",children:[(0,s.jsx)("span",{className:"font-medium text-white",children:"Observa\xe7\xf5es:"})," ",e.notes]}),("completed"===e.status||"rejected"===e.status)&&(0,s.jsxs)("p",{className:"text-sm mt-2",children:[(0,s.jsx)("span",{className:"text-[#7b7b7b]",children:"Status: "}),(0,s.jsx)("span",{className:"completed"===e.status?"text-green-400":"text-red-400",children:"completed"===e.status?"Conclu\xedda":"Rejeitada"})]})]})})},e.id))}):(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-8 text-center",children:(0,s.jsx)("p",{className:"text-[#7b7b7b]",children:"Nenhuma sess\xe3o conclu\xedda"})})]})}),(0,s.jsx)(o.nU,{value:"cancelled",className:"mt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Sess\xf5es Canceladas"}),m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.length>0?(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-6 hover:border-[#b4001a] transition-colors",children:(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-white",children:e.client.name}),(0,s.jsx)("p",{className:"text-sm text-[#7b7b7b]",children:(0,c.WU)(new Date(e.session_date),"dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:d.F})}),(0,s.jsxs)("p",{className:"text-sm text-[#7b7b7b]",children:["Dura\xe7\xe3o: ",e.duration," minutos"]})]})})},e.id))}):(0,s.jsx)("div",{className:"bg-[#0c0c0c] border border-[#2a2a2a] rounded-lg p-8 text-center",children:(0,s.jsx)("p",{className:"text-[#7b7b7b]",children:"Nenhuma sess\xe3o cancelada"})})]})})]})})}},2869:function(e,t,a){"use strict";a.d(t,{d:function(){return l},z:function(){return c}});var s=a(7437),n=a(2265),r=a(7495),i=a(535),o=a(4508);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:a,variant:n,size:i,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:n,size:i,className:a})),ref:t,...d})});c.displayName="Button"},2339:function(e,t,a){"use strict";a.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return o},nU:function(){return d}});var s=a(7437),n=a(2265),r=a(1312),i=a(4508);let o=r.fC,l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...n})});l.displayName=r.aV.displayName;let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...n})});c.displayName=r.xz.displayName;let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});d.displayName=r.VY.displayName},5153:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let n=0,r=new Map,i=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},970:function(e,t,a){"use strict";a.d(t,{e:function(){return r}});var s=a(5452);let n=null,r=()=>(n||(n=(0,s.createClientComponentClient)({supabaseUrl:"http://supabasekong-hc8080k4ss4wk4wgo40c88g0.69.62.97.143.sslip.io",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlIiwiaWF0IjoxNzQ5MDkyNDAwLCJleHAiOjE5MDY4NTg4MDB9.xwIZPMT3dmBZGKiS3o37g8cRdcZJloCr9v1gIcmrp04",options:{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}})),n)},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(1994),n=a(3335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}},1312:function(e,t,a){"use strict";a.d(t,{VY:function(){return J},aV:function(){return G},fC:function(){return B},xz:function(){return L}});var s=a(2265),n=a(6741),r=a(3966),i=a(8068),o=a(8575),l=a(9255),c=a(6840),d=a(6606),u=a(886),m=a(9114),f=a(7437),h="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},b="RovingFocusGroup",[p,v,g]=(0,i.B)(b),[j,y]=(0,r.b)(b,[g]),[N,w]=j(b),S=s.forwardRef((e,t)=>(0,f.jsx)(p.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(p.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(_,{...e,ref:t})})}));S.displayName=b;var _=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:r,loop:i=!1,dir:l,currentTabStopId:p,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:j,onEntryFocus:y,preventScrollOnEntryFocus:w=!1,...S}=e,_=s.useRef(null),I=(0,o.e)(t,_),C=(0,m.gm)(l),[M,T]=(0,u.T)({prop:p,defaultProp:null!=g?g:null,onChange:j,caller:b}),[D,A]=s.useState(!1),k=(0,d.W)(y),P=v(a),R=s.useRef(!1),[F,O]=s.useState(0);return s.useEffect(()=>{let e=_.current;if(e)return e.addEventListener(h,k),()=>e.removeEventListener(h,k)},[k]),(0,f.jsx)(N,{scope:a,orientation:r,dir:C,loop:i,currentTabStopId:M,onItemFocus:s.useCallback(e=>T(e),[T]),onItemShiftTab:s.useCallback(()=>A(!0),[]),onFocusableItemAdd:s.useCallback(()=>O(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>O(e=>e-1),[]),children:(0,f.jsx)(c.WV.div,{tabIndex:D||0===F?-1:0,"data-orientation":r,...S,ref:I,style:{outline:"none",...e.style},onMouseDown:(0,n.M)(e.onMouseDown,()=>{R.current=!0}),onFocus:(0,n.M)(e.onFocus,e=>{let t=!R.current;if(e.target===e.currentTarget&&t&&!D){let t=new CustomEvent(h,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=P().filter(e=>e.focusable);E([e.find(e=>e.active),e.find(e=>e.id===M),...e].filter(Boolean).map(e=>e.ref.current),w)}}R.current=!1}),onBlur:(0,n.M)(e.onBlur,()=>A(!1))})})}),I="RovingFocusGroupItem",C=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:r=!0,active:i=!1,tabStopId:o,children:d,...u}=e,m=(0,l.M)(),h=o||m,x=w(I,a),b=x.currentTabStopId===h,g=v(a),{onFocusableItemAdd:j,onFocusableItemRemove:y,currentTabStopId:N}=x;return s.useEffect(()=>{if(r)return j(),()=>y()},[r,j,y]),(0,f.jsx)(p.ItemSlot,{scope:a,id:h,focusable:r,active:i,children:(0,f.jsx)(c.WV.span,{tabIndex:b?0:-1,"data-orientation":x.orientation,...u,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{r?x.onItemFocus(h):e.preventDefault()}),onFocus:(0,n.M)(e.onFocus,()=>x.onItemFocus(h)),onKeyDown:(0,n.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){x.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var s;let n=(s=e.key,"rtl"!==a?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return M[n]}(e,x.orientation,x.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var a,s;"prev"===t&&n.reverse();let r=n.indexOf(e.currentTarget);n=x.loop?(a=n,s=r+1,a.map((e,t)=>a[(s+t)%a.length])):n.slice(r+1)}setTimeout(()=>E(n))}}),children:"function"==typeof d?d({isCurrentTabStop:b,hasTabStop:null!=N}):d})})});C.displayName=I;var M={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.activeElement;for(let s of e)if(s===a||(s.focus({preventScroll:t}),document.activeElement!==a))return}var T=a(1599),D="Tabs",[A,k]=(0,r.b)(D,[y]),P=y(),[R,F]=A(D),O=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:r,orientation:i="horizontal",dir:o,activationMode:d="automatic",...h}=e,x=(0,m.gm)(o),[b,p]=(0,u.T)({prop:s,onChange:n,defaultProp:null!=r?r:"",caller:D});return(0,f.jsx)(R,{scope:a,baseId:(0,l.M)(),value:b,onValueChange:p,orientation:i,dir:x,activationMode:d,children:(0,f.jsx)(c.WV.div,{dir:x,"data-orientation":i,...h,ref:t})})});O.displayName=D;var z="TabsList",Z=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,r=F(z,a),i=P(a);return(0,f.jsx)(S,{asChild:!0,...i,orientation:r.orientation,dir:r.dir,loop:s,children:(0,f.jsx)(c.WV.div,{role:"tablist","aria-orientation":r.orientation,...n,ref:t})})});Z.displayName=z;var V="TabsTrigger",q=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:r=!1,...i}=e,o=F(V,a),l=P(a),d=H(o.baseId,s),u=K(o.baseId,s),m=s===o.value;return(0,f.jsx)(C,{asChild:!0,...l,focusable:!r,active:m,children:(0,f.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...i,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;m||r||!e||o.onValueChange(s)})})})});q.displayName=V;var U="TabsContent",W=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:r,children:i,...o}=e,l=F(U,a),d=H(l.baseId,n),u=K(l.baseId,n),m=n===l.value,h=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.jsx)(T.z,{present:r||m,children:a=>{let{present:s}=a;return(0,f.jsx)(c.WV.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!s,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&i})}})});function H(e,t){return"".concat(e,"-trigger-").concat(t)}function K(e,t){return"".concat(e,"-content-").concat(t)}W.displayName=U;var B=O,G=Z,L=q,J=W}},function(e){e.O(0,[972,804,452,878,70,663,971,117,744],function(){return e(e.s=5356)}),_N_E=e.O()}]);